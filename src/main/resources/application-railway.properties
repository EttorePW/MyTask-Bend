# Railway Production Configuration
spring.application.name=MyTaskList

# Use Railway's PORT environment variable
server.port=${PORT}

# MongoDB Configuration with fallback to default
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://ettorepw:Diosesfiel1%2B@bibliotecadejunior.y2xvybm.mongodb.net/MyTaskListDB?retryWrites=true&w=majority}
spring.data.mongodb.database=${MONGODB_DATABASE:MyTaskListDB}

# Connection settings for better stability
spring.data.mongodb.auto-index-creation=true

# JVM and Spring Boot optimizations for Railway
spring.main.allow-bean-definition-overriding=true
spring.main.lazy-initialization=false

# Logging for production
logging.level.root=INFO
logging.level.org.springframework.data.mongodb=INFO
logging.level.org.mongodb.driver=WARN

# Health check endpoint
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=when-authorized

# Server configuration for Railway
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s
